{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mohamed-Habib\\\\Desktop\\\\mern-full-auth-master\\\\client\\\\src\\\\components\\\\body\\\\profile\\\\Profile.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { isLength, isMatch } from '../../utils/validation/Validation';\nimport { showSuccessMsg, showErrMsg } from '../../utils/notification/Notification';\nimport { fetchAllUsers, dispatchGetAllUsers } from '../../../redux/actions/usersAction';\nimport './profile.css';\nconst initialState = {\n  name: '',\n  password: '',\n  cf_password: '',\n  err: '',\n  success: ''\n};\n\nfunction Profile() {\n  const auth = useSelector(state => state.auth);\n  const token = useSelector(state => state.token);\n  const users = useSelector(state => state.users);\n  const {\n    user,\n    isAdmin\n  } = auth;\n  const [data, setData] = useState(initialState);\n  const {\n    name,\n    password,\n    cf_password,\n    err,\n    success\n  } = data;\n  const [avatar, setAvatar] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [callback, setCallback] = useState(false);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (isAdmin) {\n      fetchAllUsers(token).then(res => {\n        dispatch(dispatchGetAllUsers(res));\n      });\n    }\n  }, [token, isAdmin, dispatch, callback]);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setData({ ...data,\n      [name]: value,\n      err: '',\n      success: ''\n    });\n  };\n\n  const changeAvatar = async e => {\n    e.preventDefault();\n\n    try {\n      const file = e.target.files[0];\n      if (!file) return setData({ ...data,\n        err: \"No files were uploaded.\",\n        success: ''\n      });\n      if (file.size > 1024 * 1024) return setData({ ...data,\n        err: \"Size too large.\",\n        success: ''\n      });\n      if (file.type !== 'image/jpeg' && file.type !== 'image/png') return setData({ ...data,\n        err: \"File format is incorrect.\",\n        success: ''\n      });\n      let formData = new FormData();\n      formData.append('file', file);\n      setLoading(true);\n      const res = await axios.post('/api/upload_avatar', formData, {\n        headers: {\n          'content-type': 'multipart/form-data',\n          Authorization: token\n        }\n      });\n      setLoading(false);\n      setAvatar(res.data.url);\n    } catch (err) {\n      setData({ ...data,\n        err: err.response.data.msg,\n        success: ''\n      });\n    }\n  };\n\n  const updateInfor = () => {\n    try {\n      axios.patch('/user/update', {\n        name: name ? name : user.name,\n        avatar: avatar ? avatar : user.avatar\n      }, {\n        headers: {\n          Authorization: token\n        }\n      });\n      setData({ ...data,\n        err: '',\n        success: \"Updated Success!\"\n      });\n    } catch (err) {\n      setData({ ...data,\n        err: err.response.data.msg,\n        success: ''\n      });\n    }\n  };\n\n  const updatePassword = () => {\n    if (isLength(password)) return setData({ ...data,\n      err: \"Password must be at least 6 characters.\",\n      success: ''\n    });\n    if (!isMatch(password, cf_password)) return setData({ ...data,\n      err: \"Password did not match.\",\n      success: ''\n    });\n\n    try {\n      axios.post('/user/reset', {\n        password\n      }, {\n        headers: {\n          Authorization: token\n        }\n      });\n      setData({ ...data,\n        err: '',\n        success: \"Updated Success!\"\n      });\n    } catch (err) {\n      setData({ ...data,\n        err: err.response.data.msg,\n        success: ''\n      });\n    }\n  };\n\n  const handleUpdate = () => {\n    if (name || avatar) updateInfor();\n    if (password) updatePassword();\n  };\n\n  const handleDelete = async id => {\n    try {\n      if (user._id !== id) {\n        if (window.confirm(\"Are you sure you want to delete this account?\")) {\n          setLoading(true);\n          await axios.delete(`/user/delete/${id}`, {\n            headers: {\n              Authorization: token\n            }\n          });\n          setLoading(false);\n          setCallback(!callback);\n        }\n      }\n    } catch (err) {\n      setData({ ...data,\n        err: err.response.data.msg,\n        success: ''\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"main-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"header pb-8 pt-5 pt-lg-8 d-flex align-items-center\",\n    style: {\n      minHeight: '600px',\n      backgroundImage: 'url(https://raw.githack.com/creativetimofficial/argon-dashboard/master/assets/img/theme/profile-cover.jpg)',\n      backgroundSize: 'cover',\n      backgroundPosition: 'center top'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"mask bg-gradient-default opacity-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container-fluid d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-7 col-md-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container-fluid mt--7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-xl-4 order-xl-2 mb-5 mb-xl-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card card-profile shadow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-3 order-lg-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-profile-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: avatar ? avatar : user.avatar,\n    class: \"rounded-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 23\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-header text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-body pt-0 pt-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-profile-stats d-flex justify-content-center mt-md-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 23\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }\n  }, user.name, \" \", user.lastName, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"font-weight-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 46\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"h5 font-weight-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"h5 mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"ni business_briefcase-24 mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }\n  }), user.email), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"ni education_hat mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }), \"University of Computer Science\"), /*#__PURE__*/React.createElement(\"hr\", {\n    class: \"my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-xl-8 order-xl-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card bg-secondary shadow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-header bg-white border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    class: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 21\n    }\n  }, \"My account\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-4 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    class: \"btn btn-sm btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 21\n    }\n  }, \"Settings\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    class: \"heading-small text-muted mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 19\n    }\n  }, \"User information\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"pl-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group focused\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"form-control-label\",\n    for: \"input-username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 27\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"input-username\",\n    class: \"form-control form-control-alternative\",\n    placeholder: \"Username\",\n    defaultValue: user.userName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"form-control-label\",\n    for: \"input-email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 27\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"input-email\",\n    class: \"form-control form-control-alternative\",\n    placeholder: \"jesse@example.com\",\n    defaultValue: user.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 27\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group focused\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"form-control-label\",\n    for: \"input-first-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 27\n    }\n  }, \"First name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"input-first-name\",\n    class: \"form-control form-control-alternative\",\n    placeholder: \"First name\",\n    defaultValue: user.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group focused\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"form-control-label\",\n    for: \"input-last-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 27\n    }\n  }, \"Last name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"input-last-name\",\n    class: \"form-control form-control-alternative\",\n    placeholder: \"Last name\",\n    defaultValue: user.lastName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 27\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-md-12 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    class: \"btn btn-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 21\n    }\n  }, \"Edit profile\")))))))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 2\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 20\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 47\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 56\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 65\n    }\n  }));\n}\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/Mohamed-Habib/Desktop/mern-full-auth-master/client/src/components/body/profile/Profile.js"],"names":["React","useState","useEffect","axios","useSelector","useDispatch","Link","isLength","isMatch","showSuccessMsg","showErrMsg","fetchAllUsers","dispatchGetAllUsers","initialState","name","password","cf_password","err","success","Profile","auth","state","token","users","user","isAdmin","data","setData","avatar","setAvatar","loading","setLoading","callback","setCallback","dispatch","then","res","handleChange","e","value","target","changeAvatar","preventDefault","file","files","size","type","formData","FormData","append","post","headers","Authorization","url","response","msg","updateInfor","patch","updatePassword","handleUpdate","handleDelete","id","_id","window","confirm","delete","minHeight","backgroundImage","backgroundSize","backgroundPosition","lastName","email","userName"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport {useSelector, useDispatch} from 'react-redux'\nimport {Link} from 'react-router-dom'\nimport {isLength, isMatch} from '../../utils/validation/Validation'\nimport {showSuccessMsg, showErrMsg} from '../../utils/notification/Notification'\nimport {fetchAllUsers, dispatchGetAllUsers} from '../../../redux/actions/usersAction'\nimport './profile.css'\nconst initialState = {\n    name: '',\n    password: '',\n    cf_password: '',\n    err: '',\n    success: ''\n}\n\nfunction Profile() {\n    const auth = useSelector(state => state.auth)\n    const token = useSelector(state => state.token)\n\n    const users = useSelector(state => state.users)\n\n    const {user, isAdmin} = auth\n    const [data, setData] = useState(initialState)\n    const {name, password, cf_password, err, success} = data\n\n    const [avatar, setAvatar] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [callback, setCallback] = useState(false)\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if(isAdmin){\n            fetchAllUsers(token).then(res =>{\n                dispatch(dispatchGetAllUsers(res))\n            })\n        }\n    },[token, isAdmin, dispatch, callback])\n\n    const handleChange = e => {\n        const {name, value} = e.target\n        setData({...data, [name]:value, err:'', success: ''})\n    }\n\n    const changeAvatar = async(e) => {\n        e.preventDefault()\n        try {\n            const file = e.target.files[0]\n\n            if(!file) return setData({...data, err: \"No files were uploaded.\" , success: ''})\n\n            if(file.size > 1024 * 1024)\n                return setData({...data, err: \"Size too large.\" , success: ''})\n\n            if(file.type !== 'image/jpeg' && file.type !== 'image/png')\n                return setData({...data, err: \"File format is incorrect.\" , success: ''})\n\n            let formData =  new FormData()\n            formData.append('file', file)\n\n            setLoading(true)\n            const res = await axios.post('/api/upload_avatar', formData, {\n                headers: {'content-type': 'multipart/form-data', Authorization: token}\n            })\n\n            setLoading(false)\n            setAvatar(res.data.url)\n            \n        } catch (err) {\n            setData({...data, err: err.response.data.msg , success: ''})\n        }\n    }\n\n    const updateInfor = () => {\n        try {\n            axios.patch('/user/update', {\n                name: name ? name : user.name,\n                avatar: avatar ? avatar : user.avatar\n            },{\n                headers: {Authorization: token}\n            })\n\n            setData({...data, err: '' , success: \"Updated Success!\"})\n        } catch (err) {\n            setData({...data, err: err.response.data.msg , success: ''})\n        }\n    }\n\n    const updatePassword = () => {\n        if(isLength(password))\n            return setData({...data, err: \"Password must be at least 6 characters.\", success: ''})\n\n        if(!isMatch(password, cf_password))\n            return setData({...data, err: \"Password did not match.\", success: ''})\n\n        try {\n            axios.post('/user/reset', {password},{\n                headers: {Authorization: token}\n            })\n\n            setData({...data, err: '' , success: \"Updated Success!\"})\n        } catch (err) {\n            setData({...data, err: err.response.data.msg , success: ''})\n        }\n    }\n\n    const handleUpdate = () => {\n        if(name || avatar) updateInfor()\n        if(password) updatePassword()\n    }\n\n    const handleDelete = async (id) => {\n        try {\n            if(user._id !== id){\n                if(window.confirm(\"Are you sure you want to delete this account?\")){\n                    setLoading(true)\n                    await axios.delete(`/user/delete/${id}`, {\n                        headers: {Authorization: token}\n                    })\n                    setLoading(false)\n                    setCallback(!callback)\n                }\n            }\n            \n        } catch (err) {\n            setData({...data, err: err.response.data.msg , success: ''})\n        }\n    }\n\n    return (\n  \n        <>\n      \n    <br></br>\n    <br></br>\n    <br></br>\n  \n        <div class=\"main-content\">\n      \n     \n    \n      <div class=\"header pb-8 pt-5 pt-lg-8 d-flex align-items-center\" style={{minHeight: '600px' ,backgroundImage: 'url(https://raw.githack.com/creativetimofficial/argon-dashboard/master/assets/img/theme/profile-cover.jpg)', backgroundSize: 'cover', backgroundPosition: 'center top'}}>\n\n        <span class=\"mask bg-gradient-default opacity-8\"></span>\n  \n        <div class=\"container-fluid d-flex align-items-center\">\n          <div class=\"row\">\n            <div class=\"col-lg-7 col-md-10\">\n           \n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"container-fluid mt--7\">\n        <div class=\"row\">\n          <div class=\"col-xl-4 order-xl-2 mb-5 mb-xl-0\">\n            <div class=\"card card-profile shadow\">\n              <div class=\"row justify-content-center\">\n                <div class=\"col-lg-3 order-lg-2\">\n                  <div class=\"card-profile-image\">\n                    <a href=\"#\">\n                      <img src={avatar ? avatar : user.avatar} class=\"rounded-circle\"/>\n                    </a>\n                  </div>\n                </div>\n              </div>\n              <div class=\"card-header text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4\">\n                <div class=\"d-flex justify-content-between\">\n      \n                </div>\n              </div>\n              <div class=\"card-body pt-0 pt-md-4\">\n                <div class=\"row\">\n                  <div class=\"col\">\n                    <div class=\"card-profile-stats d-flex justify-content-center mt-md-5\">\n                      <div>\n                      \n                      </div>\n                      <div>\n                       \n                      </div>\n                      <div>\n                     \n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"text-center\">\n                  <h3>\n                  {user.name} {user.lastName}<span class=\"font-weight-light\"></span>\n                  </h3>\n                  <div class=\"h5 font-weight-300\">\n                  \n                  </div>\n                  <div class=\"h5 mt-4\">\n                    <i class=\"ni business_briefcase-24 mr-2\"></i>{user.email}\n                  </div>\n                  <div>\n                    <i class=\"ni education_hat mr-2\"></i>University of Computer Science\n                  </div>\n                  <hr class=\"my-4\"/>\n               \n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-xl-8 order-xl-1\">\n            <div class=\"card bg-secondary shadow\">\n              <div class=\"card-header bg-white border-0\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-8\">\n                    <h3 class=\"mb-0\">My account</h3>\n                  </div>\n                  <div class=\"col-4 text-right\">\n                    <a href=\"#!\" class=\"btn btn-sm btn-primary\">Settings</a>\n                  </div>\n                </div>\n              </div>\n              <div class=\"card-body\">\n                <form>\n                  <h6 class=\"heading-small text-muted mb-4\">User information</h6>\n                  <div class=\"pl-lg-4\">\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group focused\">\n                          <label class=\"form-control-label\" for=\"input-username\">Username</label>\n                          <input type=\"text\" id=\"input-username\" class=\"form-control form-control-alternative\" placeholder=\"Username\" defaultValue={user.userName}/>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group\">\n                          <label class=\"form-control-label\" for=\"input-email\">Email address</label>\n                          <input type=\"email\" id=\"input-email\" class=\"form-control form-control-alternative\" placeholder=\"jesse@example.com\" defaultValue={user.email}/>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group focused\">\n                          <label class=\"form-control-label\" for=\"input-first-name\">First name</label>\n                          <input type=\"text\" id=\"input-first-name\" class=\"form-control form-control-alternative\" placeholder=\"First name\" defaultValue={user.name}/>\n                        </div>\n                      </div>\n                      <div class=\"col-lg-6\">\n                        <div class=\"form-group focused\">\n                          <label class=\"form-control-label\" for=\"input-last-name\">Last name</label>\n                          <input type=\"text\" id=\"input-last-name\" class=\"form-control form-control-alternative\" placeholder=\"Last name\" defaultValue={user.lastName}/>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"col-md-12 text-center\">\n                    <a href=\"#!\" class=\"btn btn-info\">Edit profile</a>\n                    </div>\n                  </div>\n               \n        \n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n <br></br>\n <br></br>\n <br></br>\n <br></br>\n <br></br>\n <br></br>\n <br></br>\n <br></br>\n <br></br>\n <br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br>\n        </>\n    \n    )\n}\n\nexport default Profile\n"]},"metadata":{},"sourceType":"module"}